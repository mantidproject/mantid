<?xml version='1.0' encoding='ASCII'?>
<instrument xmlns="http://www.mantidproject.org/IDF/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="D33" valid-from="2017-10-01 23:59:59" valid-to="2100-01-31 23:59:59" last-modified="2020-12-23 09:52:09.197736" xsi:schemaLocation="http://www.mantidproject.org/IDF/1.0 http://schema.mantidproject.org/IDF/1.0/IDFSchema.xsd">
  <!-- This is the instrument definition file of the D33 Massive dynamic q-range small-angle diffractometer
       at the ILL.
       Generated file, PLEASE DO NOT EDIT THIS FILE!
       This file was automatically generated by mantidgeometry/ILL/IDF/d33_generateIDF.py

       z axis defines the direction of the beam
       y axis will be the axis used for rotation
       coordinate system is right-handed

       y axis rotation defined by theta
       x axis rotation defined by phi
       z axis rotation defined by chi

       width x direction, height y direction

       The instrument operates in two modes:
       - monochromatic (qmax/qmin = 20)
          - wavelength range 4.5 A -> 40 A
       - TOF time-of-flight (qmax/qmin > 1000)
          - wavelengths 14 A, 20 A

       Collimation
       4 movable guide sections of 2.5 m
       Beam nose at 2.8 m
       Guide cross-section of 30 x 30 mm
       Source-to-sample distances are 2.8 m; 5.3 m; 7.8 m; 10.3 m; 12.8 m
       Source aperture diameters are 5 m; 10 m; 20 m ; 30 m

       Sample
       Maximum sample dimension is 15 mm x 15 mm

       Two detector multi-tube detectors
       Sample-detector distances range from 1.2 m to 12.8 m
       Detector 1 (rear):
       Single panel mono-block size 640 x 640 mm
       Pixel size 5 x 5 mm^2 ( 128 x 128 pixels )
       Detector 2 (front):
       4-panel mono-block, size 160 x 640 mm per panel
       Pixel size 5 x 5 mm^2 ( 32 x 128 pixels )

       For more information, please visit
       https://www.ill.eu/instruments-support/instruments-groups/instruments/d33/characteristics/
       -->
  <defaults>
    <length unit="metre"/>
    <angle unit="degree"/>
    <reference-frame>
      <along-beam axis="z"/>
      <pointing-up axis="y"/>
      <handedness val="right"/>
    </reference-frame>
    <default-view view="3D" axis-view="z-"/>
  </defaults>
  <!--SOURCE-->
  <component type="moderator">
    <location x="0.0" y="0.0" z="-22"/>
  </component>
  <type name="moderator" is="Source"/>
  <!--Sample position-->
  <component type="sample_position">
    <location x="0.0" y="0.0" z="0.0"/>
  </component>
  <type name="sample_position" is="SamplePos"/>
  <!--MONITORS-->
  <component type="monitors" idlist="monitors">
    <location/>
  </component>
  <type name="monitors">
    <component type="monitor">
      <location z="-16.7" name="monitor1"/>
      <location z="-1.2" name="monitor2"/>
    </component>
  </type>
  <!--MONITOR SHAPE-->
  <!--FIXME: Do something real here.-->
  <type name="monitor" is="monitor">
    <cylinder id="cyl-approx">
      <centre-of-bottom-base p="0.0" r="0.0" t="0.0"/>
      <axis x="0.0" y="0.0" z="1.0"/>
      <radius val="0.01"/>
      <height val="0.03"/>
    </cylinder>
    <algebra val="cyl-approx"/>
  </type>
  <!--MONITOR IDs-->
  <idlist idname="monitors">
    <id val="500000"/>
    <id val="500001"/>
  </idlist>
  <!--DETECTORS-->
  <component type="detector">
    <location x="0.0" y="0.0" z="0.0"/>
  </component>
  <type name="detector">
    <component type="back_detector" idstart="0" idfillbyfirst="x" idstepbyrow="128">
      <location x="0.0" y="0.0" z="12.8">
        <rot val="90.0" axis-x="0" axis-y="0" axis-z="1"/>
      </location>
    </component>
    <component type="front_detector">
      <location x="0.0" y="0.0" z="0.0"/>
    </component>
  </type>
  <type name="front_detector">
    <component type="front_detector_right" idstart="100000" idfillbyfirst="y" idstepbyrow="256">
      <location x="-0.4" y="0.0" z="1.2"/>
    </component>
    <component type="front_detector_left" idstart="200000" idfillbyfirst="y" idstepbyrow="256">
      <location x="0.4" y="0.0" z="1.2"/>
    </component>
    <component type="front_detector_bottom" idstart="300000" idfillbyfirst="x" idstepbyrow="32">
      <location x="0.0" y="-0.4" z="1.2">
        <rot val="90.0" axis-x="0" axis-y="0" axis-z="1"/>
      </location>
    </component>
    <component type="front_detector_top" idstart="400000" idfillbyfirst="x" idstepbyrow="32">
      <location x="0.0" y="0.4" z="1.2">
        <rot val="90.0" axis-x="0" axis-y="0" axis-z="1"/>
      </location>
    </component>
  </type>
  <!--REAR DETECTOR-->
  <type xstart="-0.3175" xstep="0.005" xpixels="128" ystart="-0.31875000000000003" ystep="0.0025" ypixels="256" name="back_detector" is="rectangular_detector" type="pixel"/>
  <!--4 FRONT DETECTORS, from detector to sample in +Z direction-->
  <!--RIGHT-->
  <type xstart="0.0775" xstep="-0.005" xpixels="32" ystart="-0.31875000000000003" ystep="0.0025" ypixels="256" name="front_detector_right" is="rectangular_detector" type="pixel"/>
  <!--LEFT-->
  <type xstart="0.0775" xstep="-0.005" xpixels="32" ystart="-0.31875000000000003" ystep="0.0025" ypixels="256" name="front_detector_left" is="rectangular_detector" type="pixel"/>
  <!--BOTTOM-->
  <type xstart="-0.0775" xstep="0.005" xpixels="32" ystart="-0.31875000000000003" ystep="0.0025" ypixels="256" name="front_detector_bottom" is="rectangular_detector" type="pixel"/>
  <!--TOP-->
  <type xstart="-0.0775" xstep="0.005" xpixels="32" ystart="-0.31875000000000003" ystep="0.0025" ypixels="256" name="front_detector_top" is="rectangular_detector" type="pixel"/>
  <!--PIXEL, EACH PIXEL IS A DETECTOR-->
  <type name="pixel" is="detector">
    <cuboid id="pixel-shape">
      <left-front-bottom-point x="-0.0025" y="-0.00125" z="5e-05"/>
      <left-front-top-point x="-0.0025" y="0.00125" z="5e-05"/>
      <left-back-bottom-point x="-0.0025" y="-0.00125" z="-5e-05"/>
      <right-front-bottom-point x="0.0025" y="-0.00125" z="-5e-05"/>
    </cuboid>
    <algebra val="pixel-shape"/>
  </type>
</instrument>
