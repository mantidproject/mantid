# This file generates two .txt files that contain relative and absolute paths
# to remove the need for searching for all of the algorithms and fit functions
# on startup.

# List of python algorithms and fit functions
set(PYTHON_PLUGINS
    algorithms/Abins.py
    algorithms/AlignAndFocusPowderFromFiles.py
    algorithms/AlignComponents.py
    algorithms/AngularAutoCorrelationsSingleAxis.py
    algorithms/AngularAutoCorrelationsTwoAxes.py
    algorithms/ApplyDetectorScanEffCorr.py
    algorithms/ApplyNegMuCorrection.py
    algorithms/BASISCrystalDiffraction.py
    algorithms/BASISDiffraction.py
    algorithms/BASISPowderDiffraction.py
    algorithms/BASISReduction.py
    algorithms/BilbySANSDataProcessor.py
    algorithms/BinWidthAtX.py
    algorithms/CalculateEfficiencyCorrection.py
    algorithms/CalculateFlux.py
    algorithms/CalculateSampleTransmission.py
    algorithms/CalibrateRectangularDetectors.py
    algorithms/CheckForSampleLogs.py
    algorithms/CleanFileCache.py
    algorithms/ClipPeaks.py
    algorithms/CollectHB3AExperimentInfo.py
    algorithms/CompareSampleLogs.py
    algorithms/ComputeCalibrationCoefVan.py
    algorithms/ComputeIncoherentDOS.py
    algorithms/ConjoinFiles.py
    algorithms/ConjoinSpectra.py
    algorithms/ConvertSnsRoiFileToMask.py
    algorithms/ConvertQtoHKLMDHisto.py
    algorithms/ConvertWANDSCDtoQ.py
    algorithms/CorrectLogTimes.py
    algorithms/CorrectTOF.py
    algorithms/CreateCacheFilename.py
    algorithms/CreateEmptyTableWorkspace.py
    algorithms/CreateLeBailFitInput.py
    algorithms/CropWorkspaceForMDNorm.py
    algorithms/CylinderPaalmanPingsCorrection2.py
    algorithms/DNSComputeDetEffCorrCoefs.py
    algorithms/DNSFlippingRatioCorr.py
    algorithms/DNSMergeRuns.py
    algorithms/DPDFreduction.py
    algorithms/DSFinterp.py
    algorithms/DakotaChiSquared.py
    algorithms/DeltaPDF3D.py
    algorithms/LoadElementalAnalysisData.py
    algorithms/EnggCalibrate.py
    algorithms/EnggCalibrateFull.py
    algorithms/EnggEstimateFocussedBackground.py
    algorithms/EnggFitPeaks.py
    algorithms/EnggFitTOFFromPeaks.py
    algorithms/EnggFocus.py
    algorithms/EnggSaveGSASIIFitResultsToHDF5.py
    algorithms/EnggSaveSinglePeakFitResultsToHDF5.py
    algorithms/EnggVanadiumCorrections.py
    algorithms/ExaminePowderDiffProfile.py
    algorithms/Examples/ExampleSaveAscii.py
    algorithms/Examples/Squares.py
    algorithms/ExportExperimentLog.py
    algorithms/ExportGeometry.py
    algorithms/ExportSampleLogsToCSVFile.py
    algorithms/ExportSampleLogsToHDF5.py
    algorithms/ExportSpectraMask.py
    algorithms/ExtractMonitors.py
    algorithms/FilterLogByTime.py
    algorithms/FindGoniometerFromUB.py
    algorithms/FindSatellitePeaks.py
    algorithms/FitGaussian.py
    algorithms/FitIncidentSpectrum.py
    algorithms/GSASIIRefineFitPeaks.py
    algorithms/GenerateGroupingSNSInelastic.py
    algorithms/GenerateLogbook.py
    algorithms/GetEiT0atSNS.py
    algorithms/GetIPTS.py
    algorithms/GetLiveInstrumentValue.py
    algorithms/HB2AReduce.py
    algorithms/HB3AAdjustSampleNorm.py
    algorithms/HB3AFindPeaks.py
    algorithms/HB3AIntegratePeaks.py
    algorithms/HB3APredictPeaks.py
    algorithms/HFIRSANS2Wavelength.py
    algorithms/IndexSatellitePeaks.py
    algorithms/IndirectTransmission.py
    algorithms/IntegratePeaksProfileFitting.py
    algorithms/LRAutoReduction.py
    algorithms/LRDirectBeamSort.py
    algorithms/LRPeakSelection.py
    algorithms/LRPrimaryFraction.py
    algorithms/LRReductionWithReference.py
    algorithms/LRReflectivityOutput.py
    algorithms/LRScalingFactors.py
    algorithms/LRSubtractAverageBackground.py
    algorithms/LeadPressureCalc.py
    algorithms/LinkedUBs.py
    algorithms/LiquidsReflectometryReduction.py
    algorithms/LoadAndMerge.py
    algorithms/LoadCIF.py
    algorithms/LoadDNSLegacy.py
    algorithms/LoadEXED.py
    algorithms/LoadEmptyVesuvio.py
    algorithms/LoadFullprofFile.py
    algorithms/LoadGudrunOutput.py
    algorithms/LoadLamp.py
    algorithms/LoadLogPropertyTable.py
    algorithms/LoadMultipleGSS.py
    algorithms/LoadNMoldyn3Ascii.py
    algorithms/LoadNMoldyn4Ascii.py
    algorithms/LoadNMoldyn4Ascii1D.py
    algorithms/LoadPreNexusLive.py
    algorithms/LoadSINQ.py
    algorithms/LoadSINQFile.py
    algorithms/LoadVesuvio.py
    algorithms/LoadVisionElasticBS.py
    algorithms/LoadVisionElasticEQ.py
    algorithms/LoadVisionInelastic.py
    algorithms/LoadWANDSCD.py
    algorithms/MRFilterCrossSections.py
    algorithms/MRGetTheta.py
    algorithms/MRInspectData.py
    algorithms/MagnetismReflectometryReduction.py
    algorithms/MaskAngle.py
    algorithms/MaskBTP.py
    algorithms/MaskWorkspaceToCalFile.py
    algorithms/MatchPeaks.py
    algorithms/MatchSpectra.py
    algorithms/Mean.py
    algorithms/MedianBinWidth.py
    algorithms/MergeCalFiles.py
    algorithms/MuonMaxent.py
    algorithms/MuscatSofQW.py
    algorithms/NMoldyn4Interpolation.py
    algorithms/NormaliseSpectra.py
    algorithms/OptimizeCrystalPlacementByRun.py
    algorithms/OrderWorkspaceHistory.py
    algorithms/PDConvertRealSpace.py
    algorithms/PDConvertReciprocalSpace.py
    algorithms/PDToGUDRUN.py
    algorithms/PDToPDFgetN.py
    algorithms/PearlMCAbsorption.py
    algorithms/PEARLTransfit.py
    algorithms/PoldiCreatePeaksFromFile.py
    algorithms/PoldiLoadRuns.py
    algorithms/PoldiMerge.py
    algorithms/RebinRagged.py
    algorithms/RefinePowderDiffProfileSeq.py
    algorithms/ReflectometryReductionOneLiveData.py
    algorithms/ReflectometrySliceEventWorkspace.py
    algorithms/ResNorm.py
    algorithms/RetrieveRunInfo.py
    algorithms/SANSSubtract.py
    algorithms/SANSWideAngleCorrection.py
    algorithms/SNAPReduce.py
    algorithms/SNSPowderReduction.py
    algorithms/SaveGEMMAUDParamFile.py
    algorithms/SaveGSSCW.py
    algorithms/SaveHKLCW.py
    algorithms/SaveNexusPD.py
    algorithms/SaveP2D.py
    algorithms/SavePlot1DAsJson.py
    algorithms/SaveReflections.py
    algorithms/SaveYDA.py
    algorithms/SelectNexusFilesByMetadata.py
    algorithms/SetDetScale.py
    algorithms/SortByQVectors.py
    algorithms/SortDetectors.py
    algorithms/StatisticsOfTableWorkspace.py
    algorithms/StringToPng.py
    algorithms/SuggestTibCNCS.py
    algorithms/SuggestTibHYSPEC.py
    algorithms/Symmetrise.py
    algorithms/TOFTOFCropWorkspace.py
    algorithms/TOFTOFMergeRuns.py
    algorithms/TestWorkspaceGroupProperty.py
    algorithms/USANSSimulation.py
    algorithms/UpdatePeakParameterTableValue.py
    algorithms/VelocityAutoCorrelations.py
    algorithms/VelocityCrossCorrelations.py
    algorithms/VesuvioAnalysis.py
    algorithms/VesuvioCorrections.py
    algorithms/VesuvioPeakPrediction.py
    algorithms/VesuvioPreFit.py
    algorithms/VesuvioResolution.py
    algorithms/VesuvioTOFFit.py
    algorithms/VesuvioThickness.py
    algorithms/ViewBOA.py
    algorithms/VisionReduction.py
    algorithms/dnsdata.py
    algorithms/fractional_indexing.py
    algorithms/roundinghelper.py
    algorithms/WorkflowAlgorithms/AddSampleLogMultiple.py
    algorithms/WorkflowAlgorithms/ApplyPaalmanPingsCorrection.py
    algorithms/WorkflowAlgorithms/BayesQuasi.py
    algorithms/WorkflowAlgorithms/BayesStretch.py
    algorithms/WorkflowAlgorithms/CalculateMonteCarloAbsorption.py
    algorithms/WorkflowAlgorithms/ConvertMultipleRunsToSingleCrystalMD.py
    algorithms/WorkflowAlgorithms/CorelliPowderCalibrationCreate.py
    algorithms/WorkflowAlgorithms/D7AbsoluteCrossSections.py
    algorithms/WorkflowAlgorithms/D7YIGPositionCalibration.py
    algorithms/WorkflowAlgorithms/DetectorFloodWeighting.py
    algorithms/WorkflowAlgorithms/DirectILLApplySelfShielding.py
    algorithms/WorkflowAlgorithms/DirectILLCollectData.py
    algorithms/WorkflowAlgorithms/DirectILLDiagnostics.py
    algorithms/WorkflowAlgorithms/DirectILLIntegrateVanadium.py
    algorithms/WorkflowAlgorithms/DirectILLReduction.py
    algorithms/WorkflowAlgorithms/DirectILLSelfShielding.py
    algorithms/WorkflowAlgorithms/DirectILL_common.py
    algorithms/WorkflowAlgorithms/EQSANSAzimuthalAverage1D.py
    algorithms/WorkflowAlgorithms/EQSANSDirectBeamTransmission.py
    algorithms/WorkflowAlgorithms/EQSANSNormalise.py
    algorithms/WorkflowAlgorithms/ElasticWindowMultiple.py
    algorithms/WorkflowAlgorithms/EnergyWindowScan.py
    algorithms/WorkflowAlgorithms/FindPeaksAutomatic.py
    algorithms/WorkflowAlgorithms/FitGaussianPeaks.py
    algorithms/WorkflowAlgorithms/FlatPlatePaalmanPingsCorrection.py
    algorithms/WorkflowAlgorithms/HFIRSANSReduction.py
    algorithms/WorkflowAlgorithms/ILL_utilities.py
    algorithms/WorkflowAlgorithms/ISISIndirectDiffractionReduction.py
    algorithms/WorkflowAlgorithms/ISISIndirectEnergyTransfer.py
    algorithms/WorkflowAlgorithms/ISISIndirectEnergyTransferWrapper.py
    algorithms/WorkflowAlgorithms/IndirectAnnulusAbsorption.py
    algorithms/WorkflowAlgorithms/IndirectAnnulusAbsorption2.py
    algorithms/WorkflowAlgorithms/IndirectCalibration.py
    algorithms/WorkflowAlgorithms/IndirectCylinderAbsorption.py
    algorithms/WorkflowAlgorithms/IndirectCylinderAbsorption2.py
    algorithms/WorkflowAlgorithms/IndirectDiffScan.py
    algorithms/WorkflowAlgorithms/IndirectFlatPlateAbsorption.py
    algorithms/WorkflowAlgorithms/IndirectFlatPlateAbsorption2.py
    algorithms/WorkflowAlgorithms/IndirectILLEnergyTransfer.py
    algorithms/WorkflowAlgorithms/IndirectILLReductionFWS.py
    algorithms/WorkflowAlgorithms/IndirectILLReductionQENS.py
    algorithms/WorkflowAlgorithms/IndirectQuickRun.py
    algorithms/WorkflowAlgorithms/IndirectReplaceFitResult.py
    algorithms/WorkflowAlgorithms/IndirectResolution.py
    algorithms/WorkflowAlgorithms/IndirectSampleChanger.py
    algorithms/WorkflowAlgorithms/IndirectTransmissionMonitor.py
    algorithms/WorkflowAlgorithms/IndirectTwoPeakFit.py
    algorithms/WorkflowAlgorithms/IqtFitMultiple.py
    algorithms/WorkflowAlgorithms/LoadWAND.py
    algorithms/WorkflowAlgorithms/MDNormSCDPreprocessIncoherent.py
    algorithms/WorkflowAlgorithms/MSDFit.py
    algorithms/WorkflowAlgorithms/MatchAndMergeWorkspaces.py
    algorithms/WorkflowAlgorithms/MildnerCarpenter.py
    algorithms/WorkflowAlgorithms/MolDyn.py
    algorithms/WorkflowAlgorithms/MuscatData.py
    algorithms/WorkflowAlgorithms/MuscatFunc.py
    algorithms/WorkflowAlgorithms/NormaliseByThickness.py
    algorithms/WorkflowAlgorithms/OSIRISDiffractionReduction.py
    algorithms/WorkflowAlgorithms/PaalmanPingsMonteCarloAbsorption.py
    algorithms/WorkflowAlgorithms/PoldiDataAnalysis.py
    algorithms/WorkflowAlgorithms/PolDiffILLReduction.py
    algorithms/WorkflowAlgorithms/PowderILLDetectorScan.py
    algorithms/WorkflowAlgorithms/PowderILLEfficiency.py
    algorithms/WorkflowAlgorithms/PowderILLParameterScan.py
    algorithms/WorkflowAlgorithms/ReactorSANSResolution.py
    algorithms/WorkflowAlgorithms/ReflectometryILLAutoProcess.py
    algorithms/WorkflowAlgorithms/ReflectometryILLConvertToQ.py
    algorithms/WorkflowAlgorithms/ReflectometryILLPolarizationCor.py
    algorithms/WorkflowAlgorithms/ReflectometryILLPreprocess.py
    algorithms/WorkflowAlgorithms/ReflectometryILLSumForeground.py
    algorithms/WorkflowAlgorithms/ReflectometryILL_common.py
    algorithms/WorkflowAlgorithms/ReflectometryISISLoadAndProcess.py
    algorithms/WorkflowAlgorithms/ResNorm2.py
    algorithms/WorkflowAlgorithms/SANS/SANSBeamCentreFinder.py
    algorithms/WorkflowAlgorithms/SANS/SANSBeamCentreFinderCore.py
    algorithms/WorkflowAlgorithms/SANS/SANSBeamCentreFinderMassMethod.py
    algorithms/WorkflowAlgorithms/SANS/SANSConvertToWavelengthAndRebin.py
    algorithms/WorkflowAlgorithms/SANS/SANSCreateAdjustmentWorkspaces.py
    algorithms/WorkflowAlgorithms/SANS/SANSLoad.py
    algorithms/WorkflowAlgorithms/SANS/SANSReductionCore.py
    algorithms/WorkflowAlgorithms/SANS/SANSReductionCoreBase.py
    algorithms/WorkflowAlgorithms/SANS/SANSReductionCoreEventSlice.py
    algorithms/WorkflowAlgorithms/SANS/SANSReductionCorePreprocess.py
    algorithms/WorkflowAlgorithms/SANS/SANSSave.py
    algorithms/WorkflowAlgorithms/SANS/SANSSingleReduction.py
    algorithms/WorkflowAlgorithms/SANS/SANSSingleReduction2.py
    algorithms/WorkflowAlgorithms/SANS/SANSSingleReductionBase.py
    algorithms/WorkflowAlgorithms/SANSAbsoluteScale.py
    algorithms/WorkflowAlgorithms/SANSAzimuthalAverage1D.py
    algorithms/WorkflowAlgorithms/SANSBeamSpreaderTransmission.py
    algorithms/WorkflowAlgorithms/SANSDarkRunBackgroundCorrection.py
    algorithms/WorkflowAlgorithms/SANSDirectBeamTransmission.py
    algorithms/WorkflowAlgorithms/SANSFitShiftScale.py
    algorithms/WorkflowAlgorithms/SANSILLAutoProcess.py
    algorithms/WorkflowAlgorithms/SANSILLIntegration.py
    algorithms/WorkflowAlgorithms/SANSILLParameterScan.py
    algorithms/WorkflowAlgorithms/SANSILLReduction.py
    algorithms/WorkflowAlgorithms/SANSMask.py
    algorithms/WorkflowAlgorithms/SANSPatchSensitivity.py
    algorithms/WorkflowAlgorithms/SANSReduction.py
    algorithms/WorkflowAlgorithms/SANSStitch.py
    algorithms/WorkflowAlgorithms/SavePlot1D.py
    algorithms/WorkflowAlgorithms/SaveVulcanGSS.py
    algorithms/WorkflowAlgorithms/SimpleShapeMonteCarloAbsorption.py
    algorithms/WorkflowAlgorithms/SimulatedDensityOfStates.py
    algorithms/WorkflowAlgorithms/SingleCrystalDiffuseReduction.py
    algorithms/WorkflowAlgorithms/SofQWMoments.py
    algorithms/WorkflowAlgorithms/SofQWMomentsScan.py
    algorithms/WorkflowAlgorithms/SwapWidths.py
    algorithms/WorkflowAlgorithms/TOSCABankCorrection.py
    algorithms/WorkflowAlgorithms/TimeSlice.py
    algorithms/WorkflowAlgorithms/TotScatCalculateSelfScattering.py
    algorithms/WorkflowAlgorithms/TransformToIqt.py
    algorithms/WorkflowAlgorithms/TransmissionUtils.py
    algorithms/WorkflowAlgorithms/USANSReduction.py
    algorithms/WorkflowAlgorithms/VesuvioDiffractionReduction.py
    algorithms/WorkflowAlgorithms/WANDPowderReduction.py
    functions/AFMLF.py
    functions/AFMZF.py
    functions/Bessel.py
    functions/BivariateGaussian.py
    functions/ChudleyElliot.py
    functions/CombGaussLorentzKT.py
    functions/CompositePCRmagnet.py
    functions/DSFinterp1DFit.py
    functions/DampedBessel.py
    functions/EISFDiffCylinder.py
    functions/EISFDiffSphere.py
    functions/EISFDiffSphereAlkyl.py
    functions/FickDiffusion.py
    functions/FmuF.py
    functions/GauBroadGauKT.py
    functions/GaussBessel.py
    functions/Guinier.py
    functions/GuinierPorod.py
    functions/HallRoss.py
    functions/HighTFMuonium.py
    functions/ICConvoluted.py
    functions/Lorentz.py
    functions/LowTFMuonium.py
    functions/Meier.py
    functions/ModOsc.py
    functions/MsdGauss.py
    functions/MsdPeters.py
    functions/MsdYi.py
    functions/MuH.py
    functions/MuMinusExpTF.py
    functions/PCRmagRedfield.py
    functions/PCRmagnet.py
    functions/PCRmagnetZFKT.py
    functions/PCRmagnetfnorm.py
    functions/PEARLTransVoigt.py
    functions/Porod.py
    functions/PrimStretchedExpFT.py
    functions/RFresonance.py
    functions/Redfield.py
    functions/SCgapSwave.py
    functions/SpinGlass.py
    functions/StandardSC.py
    functions/StaticLorentzianKT.py
    functions/StretchedExpFT.py
    functions/StretchedExpFTHelper.py
    functions/StretchedKT.py
    functions/TFMuonium.py
    functions/TeixeiraWater.py
    functions/ZFMuonium.py
    functions/ZFdipole.py
    functions/ZFelectronDipole.py
    functions/ZFprotonDipole.py
    functions/Examples/Example1DFunction.py
    functions/Examples/ExamplePeakFunction.py

)

# Generate an absolute path for each relative one.
set(ABS_PATHS)
foreach(RELPATH ${PYTHON_PLUGINS})
  list(APPEND ABS_PATHS ${CMAKE_CURRENT_SOURCE_DIR}/${RELPATH}\n)
endforeach()


# Write out absolute file for developer builds.
set(BUILD_FILE ${CMAKE_CURRENT_BINARY_DIR}/python-plugin-manifest.txt)
file(WRITE ${BUILD_FILE} ${ABS_PATHS})

# Write out relative file for packaged builds.
set(PACKAGE_FILE ${CMAKE_CURRENT_BINARY_DIR}/python-plugin-manifest.txt.install)
list(JOIN PYTHON_PLUGINS "\n" PYTHON_PLUGINS)
file(WRITE ${PACKAGE_FILE} ${PYTHON_PLUGINS})

mtd_install_files(
    FILES ${PACKAGE_FILE}
    INSTALL_DIRS ${PLUGINS_DIR}/python ${WORKBENCH_PLUGINS_DIR}/python
    RENAME "python-plugin-manifest.txt"
)
