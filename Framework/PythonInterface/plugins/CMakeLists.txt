# This file generates two .txt files that contain relative and absolute paths
# to remove the need for searching for all of the algorithms and fit functions 
# on startup.

# List of python algorithms and fit functions
set(PYTHON_PLUGINS
  algorithms/HFIRSANS2Wavelength.py
  algorithms/DSFinterp.py
  algorithms/LoadEXED.py
  algorithms/PDConvertRealSpace.py
  algorithms/CalibrateRectangularDetectors.py
  algorithms/MaskWorkspaceToCalFile.py
  algorithms/WorkflowAlgorithms/ISISIndirectDiffractionReduction.py
  algorithms/WorkflowAlgorithms/SwapWidths.py
  algorithms/WorkflowAlgorithms/EQSANSNormalise.py
  algorithms/WorkflowAlgorithms/ISISIndirectEnergyTransferWrapper.py
  algorithms/WorkflowAlgorithms/SANS/SANSSingleReduction.py
  algorithms/WorkflowAlgorithms/SANS/SANSBeamCentreFinder.py
  algorithms/WorkflowAlgorithms/SANS/SANSCreateAdjustmentWorkspaces.py
  algorithms/WorkflowAlgorithms/SANS/SANSSingleReduction2.py
  algorithms/WorkflowAlgorithms/SANS/SANSLoad.py
  algorithms/WorkflowAlgorithms/SANS/SANSReductionCoreBase.py
  algorithms/WorkflowAlgorithms/SANS/SANSSave.py
  algorithms/WorkflowAlgorithms/SANS/SANSReductionCore.py
  algorithms/WorkflowAlgorithms/SANS/SANSConvertToWavelengthAndRebin.py
  algorithms/WorkflowAlgorithms/SANS/SANSBeamCentreFinderCore.py
  algorithms/WorkflowAlgorithms/SANS/SANSBeamCentreFinderMassMethod.py
  algorithms/WorkflowAlgorithms/SANS/SANSReductionCorePreprocess.py
  algorithms/WorkflowAlgorithms/SANS/SANSReductionCoreEventSlice.py
  algorithms/WorkflowAlgorithms/SANS/SANSSingleReductionBase.py
  algorithms/WorkflowAlgorithms/ReflectometryILLAutoProcess.py
  algorithms/WorkflowAlgorithms/DirectILLIntegrateVanadium.py
  algorithms/WorkflowAlgorithms/SANSILLIntegration.py
  algorithms/WorkflowAlgorithms/VesuvioDiffractionReduction.py
  algorithms/WorkflowAlgorithms/BayesQuasi.py
  algorithms/WorkflowAlgorithms/ReflectometryILLPreprocess.py
  algorithms/WorkflowAlgorithms/IndirectSampleChanger.py
  algorithms/WorkflowAlgorithms/SANSPatchSensitivity.py
  algorithms/WorkflowAlgorithms/IndirectQuickRun.py
  algorithms/WorkflowAlgorithms/SANSILLAutoProcess.py
  algorithms/WorkflowAlgorithms/FitGaussianPeaks.py
  algorithms/WorkflowAlgorithms/IndirectCylinderAbsorption2.py
  algorithms/WorkflowAlgorithms/ReflectometryILL_common.py
  algorithms/WorkflowAlgorithms/SofQWMoments.py
  algorithms/WorkflowAlgorithms/MuscatFunc.py
  algorithms/WorkflowAlgorithms/SimulatedDensityOfStates.py
  algorithms/WorkflowAlgorithms/IndirectILLReductionQENS.py
  algorithms/WorkflowAlgorithms/TimeSlice.py
  algorithms/WorkflowAlgorithms/NormaliseByThickness.py
  algorithms/WorkflowAlgorithms/SANSStitch.py
  algorithms/WorkflowAlgorithms/SANSAzimuthalAverage1D.py
  algorithms/WorkflowAlgorithms/SimpleShapeMonteCarloAbsorption.py
  algorithms/WorkflowAlgorithms/MildnerCarpenter.py
  algorithms/WorkflowAlgorithms/DirectILLSelfShielding.py
  algorithms/WorkflowAlgorithms/SaveVulcanGSS.py
  algorithms/WorkflowAlgorithms/ISISIndirectEnergyTransfer.py
  algorithms/WorkflowAlgorithms/PoldiDataAnalysis.py
  algorithms/WorkflowAlgorithms/AddSampleLogMultiple.py
  algorithms/WorkflowAlgorithms/TransformToIqt.py
  algorithms/WorkflowAlgorithms/IndirectTransmissionMonitor.py
  algorithms/WorkflowAlgorithms/PowderILLEfficiency.py
  algorithms/WorkflowAlgorithms/MolDyn.py
  algorithms/WorkflowAlgorithms/PaalmanPingsMonteCarloAbsorption.py
  algorithms/WorkflowAlgorithms/IndirectTwoPeakFit.py
  algorithms/WorkflowAlgorithms/ResNorm2.py
  algorithms/WorkflowAlgorithms/ConvertMultipleRunsToSingleCrystalMD.py
  algorithms/WorkflowAlgorithms/FlatPlatePaalmanPingsCorrection.py
  algorithms/WorkflowAlgorithms/SingleCrystalDiffuseReduction.py
  algorithms/WorkflowAlgorithms/ElasticWindowMultiple.py
  algorithms/WorkflowAlgorithms/ReflectometryISISLoadAndProcess.py
  algorithms/WorkflowAlgorithms/FindPeaksAutomatic.py
  algorithms/WorkflowAlgorithms/IqtFitMultiple.py
  algorithms/WorkflowAlgorithms/IndirectILLReductionFWS.py
  algorithms/WorkflowAlgorithms/IndirectCalibration.py
  algorithms/WorkflowAlgorithms/DirectILL_common.py
  algorithms/WorkflowAlgorithms/SANSAbsoluteScale.py
  algorithms/WorkflowAlgorithms/SavePlot1D.py
  algorithms/WorkflowAlgorithms/EQSANSDirectBeamTransmission.py
  algorithms/WorkflowAlgorithms/IndirectAnnulusAbsorption2.py
  algorithms/WorkflowAlgorithms/MatchAndMergeWorkspaces.py
  algorithms/WorkflowAlgorithms/SANSDirectBeamTransmission.py
  algorithms/WorkflowAlgorithms/ReflectometryILLPolarizationCor.py
  algorithms/WorkflowAlgorithms/WANDPowderReduction.py
  algorithms/WorkflowAlgorithms/TransmissionUtils.py
  algorithms/WorkflowAlgorithms/SANSReduction.py
  algorithms/WorkflowAlgorithms/IndirectCylinderAbsorption.py
  algorithms/WorkflowAlgorithms/IndirectResolution.py
  algorithms/WorkflowAlgorithms/SANSBeamSpreaderTransmission.py
  algorithms/WorkflowAlgorithms/IndirectAnnulusAbsorption.py
  algorithms/WorkflowAlgorithms/SANSDarkRunBackgroundCorrection.py
  algorithms/WorkflowAlgorithms/DirectILLApplySelfShielding.py
  algorithms/WorkflowAlgorithms/LoadWAND.py
  algorithms/WorkflowAlgorithms/DetectorFloodWeighting.py
  algorithms/WorkflowAlgorithms/EQSANSAzimuthalAverage1D.py
  algorithms/WorkflowAlgorithms/BayesStretch.py
  algorithms/WorkflowAlgorithms/ReflectometryILLConvertToQ.py
  algorithms/WorkflowAlgorithms/CalculateMonteCarloAbsorption.py
  algorithms/WorkflowAlgorithms/IndirectReplaceFitResult.py
  algorithms/WorkflowAlgorithms/ILL_utilities.py
  algorithms/WorkflowAlgorithms/D7YIGPositionCalibration.py
  algorithms/WorkflowAlgorithms/PowderILLParameterScan.py
  algorithms/WorkflowAlgorithms/ReactorSANSResolution.py
  algorithms/WorkflowAlgorithms/ReflectometryILLSumForeground.py
  algorithms/WorkflowAlgorithms/SANSMask.py
  algorithms/WorkflowAlgorithms/MuscatData.py
  algorithms/WorkflowAlgorithms/SofQWMomentsScan.py
  algorithms/WorkflowAlgorithms/DirectILLReduction.py
  algorithms/WorkflowAlgorithms/USANSReduction.py
  algorithms/WorkflowAlgorithms/HFIRSANSReduction.py
  algorithms/WorkflowAlgorithms/PowderILLDetectorScan.py
  algorithms/WorkflowAlgorithms/MSDFit.py
  algorithms/WorkflowAlgorithms/TOSCABankCorrection.py
  algorithms/WorkflowAlgorithms/DirectILLCollectData.py
  algorithms/WorkflowAlgorithms/IndirectDiffScan.py
  algorithms/WorkflowAlgorithms/IndirectFlatPlateAbsorption2.py
  algorithms/WorkflowAlgorithms/EnergyWindowScan.py
  algorithms/WorkflowAlgorithms/SANSFitShiftScale.py
  algorithms/WorkflowAlgorithms/OSIRISDiffractionReduction.py
  algorithms/WorkflowAlgorithms/MDNormSCDPreprocessIncoherent.py
  algorithms/WorkflowAlgorithms/DirectILLDiagnostics.py
  algorithms/WorkflowAlgorithms/IndirectFlatPlateAbsorption.py
  algorithms/WorkflowAlgorithms/SANSILLReduction.py
  algorithms/WorkflowAlgorithms/TotScatCalculateSelfScattering.py
  algorithms/WorkflowAlgorithms/IndirectILLEnergyTransfer.py
  algorithms/WorkflowAlgorithms/ApplyPaalmanPingsCorrection.py
  algorithms/WorkflowAlgorithms/SANSILLParameterScan.py
  algorithms/ViewBOA.py
  algorithms/ReflectometrySliceEventWorkspace.py
  algorithms/SNAPReduce.py
  algorithms/LRSubtractAverageBackground.py
  algorithms/LRPeakSelection.py
  algorithms/VelocityAutoCorrelations.py
  algorithms/VesuvioResolution.py
  algorithms/LoadSINQFile.py
  algorithms/GetLiveInstrumentValue.py
  algorithms/LoadNMoldyn4Ascii.py
  algorithms/LRDirectBeamSort.py
  algorithms/BASISPowderDiffraction.py
  algorithms/LoadEmptyVesuvio.py
  algorithms/VesuvioAnalysis.py
  algorithms/VelocityCrossCorrelations.py
  algorithms/MergeCalFiles.py
  algorithms/AngularAutoCorrelationsSingleAxis.py
  algorithms/BinWidthAtX.py
  algorithms/EnggSaveGSASIIFitResultsToHDF5.py
  algorithms/ApplyNegMuCorrection.py
  algorithms/DNSComputeDetEffCorrCoefs.py
  algorithms/LoadWANDSCD.py
  algorithms/MuscatSofQW.py
  algorithms/MRFilterCrossSections.py
  algorithms/SuggestTibHYSPEC.py
  algorithms/EnggCalibrate.py
  algorithms/LoadPreNexusLive.py
  algorithms/EnggCalibrateFull.py
  algorithms/MRInspectData.py
  algorithms/SANSSubtract.py
  algorithms/SNSPowderReduction.py
  algorithms/ConvertWANDSCDtoQ.py
  algorithms/DNSFlippingRatioCorr.py
  algorithms/LoadCIF.py
  algorithms/LoadNMoldyn4Ascii1D.py
  algorithms/CollectHB3AExperimentInfo.py
  algorithms/VesuvioTOFFit.py
  algorithms/StatisticsOfTableWorkspace.py
  algorithms/PDToGUDRUN.py
  algorithms/IndirectTransmission.py
  algorithms/LRAutoReduction.py
  algorithms/CorrectTOF.py
  algorithms/CropWorkspaceRagged.py
  algorithms/LoadDNSLegacy.py
  algorithms/PDConvertReciprocalSpace.py
  algorithms/SetDetScale.py
  algorithms/GetIPTS.py
  algorithms/SortDetectors.py
  algorithms/LRPrimaryFraction.py
  algorithms/RetrieveRunInfo.py
  algorithms/LoadMultipleGSS.py
  algorithms/TestWorkspaceGroupProperty.py
  algorithms/BASISDiffraction.py
  algorithms/DakotaChiSquared.py
  algorithms/LoadAndMerge.py
  algorithms/USANSSimulation.py
  algorithms/SaveNexusPD.py
  algorithms/SaveGSSCW.py
  algorithms/ApplyDetectorScanEffCorr.py
  algorithms/MaskAngle.py
  algorithms/fractional_indexing.py
  algorithms/TOFTOFCropWorkspace.py
  algorithms/BilbySANSDataProcessor.py
  algorithms/MagnetismReflectometryReduction.py
  algorithms/LoadNMoldyn3Ascii.py
  algorithms/LoadVisionElasticBS.py
  algorithms/GSASIIRefineFitPeaks.py
  algorithms/TOFTOFMergeRuns.py
  algorithms/ConjoinSpectra.py
  algorithms/LoadLogPropertyTable.py
  algorithms/ExportSpectraMask.py
  algorithms/SaveReflections.py
  algorithms/LiquidsReflectometryReduction.py
  algorithms/ReflectometryReductionOneLiveData.py
  algorithms/PoldiLoadRuns.py
  algorithms/FitGaussian.py
  algorithms/FindGoniometerFromUB.py
  algorithms/PoldiCreatePeaksFromFile.py
  algorithms/ExportGeometry.py
  algorithms/MRGetTheta.py
  algorithms/Symmetrise.py
  algorithms/DeltaPDF3D.py
  algorithms/VesuvioThickness.py
  algorithms/BASISCrystalDiffraction.py
  algorithms/Abins.py
  algorithms/ExtractMonitors.py
  algorithms/SANSWideAngleCorrection.py
  algorithms/LoadVesuvio.py
  algorithms/EnggVanadiumCorrections.py
  algorithms/ConvertSnsRoiFileToMask.py
  algorithms/EnggFitPeaks.py
  algorithms/BASISReduction.py
  algorithms/PearlMCAbsorption.py
  algorithms/LoadSINQ.py
  algorithms/CropWorkspaceForMDNorm.py
  algorithms/MaskBTP.py
  algorithms/MatchPeaks.py
  algorithms/VesuvioPreFit.py
  algorithms/ResNorm.py
  algorithms/LRScalingFactors.py
  algorithms/DNSMergeRuns.py
  algorithms/DPDFreduction.py
  algorithms/SavePlot1DAsJson.py
  algorithms/ComputeCalibrationCoefVan.py
  algorithms/OrderWorkspaceHistory.py
  algorithms/CalculateFlux.py
  algorithms/OptimizeCrystalPlacementByRun.py
  algorithms/ComputeIncoherentDOS.py
  algorithms/EnggFocus.py
  algorithms/EnggEstimateFocussedBackground.py
  algorithms/LRReductionWithReference.py
  algorithms/NMoldyn4Interpolation.py
  algorithms/ExaminePowderDiffProfile.py
  algorithms/ExportSampleLogsToHDF5.py
  algorithms/RefinePowderDiffProfileSeq.py
  algorithms/ConjoinFiles.py
  algorithms/ExportExperimentLog.py
  algorithms/StringToPng.py
  algorithms/CylinderPaalmanPingsCorrection2.py
  algorithms/CreateLeBailFitInput.py
  algorithms/VesuvioPeakPrediction.py
  algorithms/CleanFileCache.py
  algorithms/AlignAndFocusPowderFromFiles.py
  algorithms/roundinghelper.py
  algorithms/GenerateGroupingSNSInelastic.py
  algorithms/SaveGEMMAUDParamFile.py
  algorithms/MatchSpectra.py
  algorithms/EnggSaveSinglePeakFitResultsToHDF5.py
  algorithms/CorrectLogTimes.py
  algorithms/IndexSatellitePeaks.py
  algorithms/Examples/ExampleSaveAscii.py
  algorithms/Examples/Squares.py
  algorithms/VesuvioCorrections.py
  algorithms/CalculateSampleTransmission.py
  algorithms/UpdatePeakParameterTableValue.py
  algorithms/AngularAutoCorrelationsTwoAxes.py
  algorithms/EnggFitTOFFromPeaks.py
  algorithms/LoadVisionElasticEQ.py
  algorithms/GetEiT0atSNS.py
  algorithms/LinkedUBs.py
  algorithms/NormaliseSpectra.py
  algorithms/LRReflectivityOutput.py
  algorithms/CalculateEfficiencyCorrection.py
  algorithms/VisionReduction.py
  algorithms/FilterLogByTime.py
  algorithms/MedianBinWidth.py
  algorithms/CreateCacheFilename.py
  algorithms/Mean.py
  algorithms/PoldiMerge.py
  algorithms/dnsdata.py
  algorithms/PDToPDFgetN.py
  algorithms/LoadVisionInelastic.py
  algorithms/SortByQVectors.py
  algorithms/IntegratePeaksProfileFitting.py
  algorithms/CreateEmptyTableWorkspace.py
  algorithms/LoadGudrunOutput.py
  algorithms/FitIncidentSpectrum.py
  algorithms/FindSatellitePeaks.py
  algorithms/ExportSampleLogsToCSVFile.py
  algorithms/CheckForSampleLogs.py
  algorithms/LoadFullprofFile.py
  algorithms/AlignComponents.py
  algorithms/LoadLamp.py
  algorithms/SaveYDA.py
  algorithms/HB2AReduce.py
  algorithms/SuggestTibCNCS.py
  algorithms/SelectNexusFilesByMetadata.py
  algorithms/CompareSampleLogs.py
  algorithms/MuonMaxent.py
  algorithms/SaveP2D.py
  algorithms/ClipPeaks.py
  functions/AFMZF.py
  functions/PCRmagnetZFKT.py
  functions/StretchedExpFTHelper.py
  functions/EISFDiffSphere.py
  functions/DampedBessel.py
  functions/GuinierPorod.py
  functions/MsdYi.py
  functions/Bessel.py
  functions/EISFDiffSphereAlkyl.py
  functions/TFMuonium.py
  functions/ICConvoluted.py
  functions/GauBroadGauKT.py
  functions/BivariateGaussian.py
  functions/StretchedKT.py
  functions/PCRmagnet.py
  functions/AFMLF.py
  functions/HallRoss.py
  functions/ZFelectronDipole.py
  functions/GaussBessel.py
  functions/MuMinusExpTF.py
  functions/TeixeiraWater.py
  functions/LowTFMuonium.py
  functions/FmuF.py
  functions/Redfield.py
  functions/EISFDiffCylinder.py
  functions/HighTFMuonium.py
  functions/FickDiffusion.py
  functions/ZFMuonium.py
  functions/CompositePCRmagnet.py
  functions/CombGaussLorentzKT.py
  functions/ZFprotonDipole.py
  functions/Meier.py
  functions/ZFdipole.py
  functions/MsdPeters.py
  functions/DSFinterp1DFit.py
  functions/ModOsc.py
  functions/Porod.py
  functions/PrimStretchedExpFT.py
  functions/Lorentz.py
  functions/MsdGauss.py
  functions/Guinier.py
  functions/RFresonance.py
  functions/Examples/Example1DFunction.py
  functions/Examples/ExamplePeakFunction.py
  functions/PCRmagRedfield.py
  functions/PCRmagnetfnorm.py
  functions/StretchedExpFT.py
  functions/StandardSC.py
  functions/SCgapSwave.py
  functions/ChudleyElliot.py
  functions/SpinGlass.py
  functions/StaticLorentzianKT.py
  functions/MuH.py
)

# Generate an absolute path for each relative one. 
set(ABS_PATHS)
foreach(RELPATH ${PYTHON_PLUGINS})
  list(APPEND ABS_PATHS ${CMAKE_CURRENT_SOURCE_DIR}/${RELPATH}\n)
endforeach()


# Write out absolute file for developer builds. 
set(BUILD_FILE ${CMAKE_CURRENT_BINARY_DIR}/python-plugin-manifest.txt)
file(WRITE ${BUILD_FILE} ${ABS_PATHS})

# Write out relative file for packaged builds. 
set(PACKAGE_FILE ${CMAKE_CURRENT_BINARY_DIR}/python-plugin-manifest.txt.install)
list(JOIN PYTHON_PLUGINS "\n" PYTHON_PLUGINS)
file(WRITE ${PACKAGE_FILE} ${PYTHON_PLUGINS})

mtd_install_files(
    FILES ${PACKAGE_FILE}
    INSTALL_DIRS ${PLUGINS_DIR}/python ${WORKBENCH_PLUGINS_DIR}/python
    RENAME "python-plugin-manifest.txt"
)

