#ifndef MANTIDQTCUSTOMINTERFACES_DATACOMPARISON_H_
#define MANTIDQTCUSTOMINTERFACES_DATACOMPARISON_H_

//----------------------
// Includes
//----------------------
#include "ui_DataComparison.h"
#include "MantidQtAPI/UserSubWindow.h"
#include "MantidAPI/MatrixWorkspace.h"

#include <qwt_plot.h>
#include <qwt_plot_curve.h>

namespace MantidQt
{
namespace CustomInterfaces
{
class DataComparison : public MantidQt::API::UserSubWindow
{
  Q_OBJECT

public:
  /// The name of the interface as registered into the factory
  static std::string name() { return "Data Comparison"; }
  // This interface's categories.
  static QString categoryInfo() { return "General"; }

public:
  /// Default Constructor
  DataComparison(QWidget *parent = 0);

private slots:
  /// Add selected data to plot
  void addData();
  /// Remove selected data from plot
  void removeSelectedData();
  /// Remove all data from plot
  void removeAllData();
  /// Create a diff of the two selected workspaces
  void diffSelected();
  /// Remove the diff from the plot
  void clearDiff();

private:
  /// Initialize the layout
  virtual void initLayout();

private:
  // The form generated by Qt Designer
  Ui::DataComparison m_uiForm;
  // The plot object
  QwtPlot *m_plot;
  // Vector of curves shown on plot
  std::vector<QwtPlotCurve *> m_curves;
  // Pointer to the current diff workspace
  Mantid::API::MatrixWorkspace_sptr m_diffWorkspace;

};

}
}

#endif //MANTIDQTCUSTOMINTERFACES_DATACOMPARISON_H_
