project( MantidVatesSimpleGuiQtWidgets )

# These are the C++ files to be compiled.
set( INCLUDE_FILES
  inc/MantidVatesSimpleGuiQtWidgets/AxisInformation.h
  inc/MantidVatesSimpleGuiQtWidgets/GeometryParser.h
  inc/MantidVatesSimpleGuiQtWidgets/ModeControlWidget.h
  inc/MantidVatesSimpleGuiQtWidgets/RotationPointDialog.h
  inc/MantidVatesSimpleGuiQtWidgets/WidgetDllOption.h
)

set( SOURCE_FILES
  src/AxisInformation.cpp
  src/GeometryParser.cpp
  src/ModeControlWidget.cpp
  src/RotationPointDialog.cpp
)

set( MOC_FILES
  inc/MantidVatesSimpleGuiQtWidgets/ModeControlWidget.h
  inc/MantidVatesSimpleGuiQtWidgets/RotationPointDialog.h
)

set( RES_FILES icons/QtWidgetsIcons.qrc )

set( UI_FILES
  inc/MantidVatesSimpleGuiQtWidgets/ModeControlWidget.ui
  inc/MantidVatesSimpleGuiQtWidgets/RotationPointDialog.ui
)

# Setup the include locations.
include_directories(inc)


mtd_add_qt_library (TARGET_NAME VatesSimpleGuiQtWidgets
                    SRC ${SOURCE_FILES}
                    MOC ${MOC_FILES}
                    NOMOC ${INCLUDE_FILES}
                    UI ${UI_FILES}
                    RES ${RES_FILES}
                    DEFS IN_MANTID_VATES_SIMPLEGUI_QTWIDGETS
                    INCLUDE_DIRS ${QWT_INCLUDE_DIR}
                    LINK_LIBS
                        ${TCMALLOC_LIBRARIES_LINKTIME}
                        ${POCO_LIBRARIES}
                        ${QT_LIBRARIES}
                        ${QWT_LIBRARIES}
                        ${MANTID_SUBPROJECT_LIBS}
                    MTD_QT_LINK_LIBS
                        MantidQtWidgetsCommon
                    INSTALL_DIR ${PVPLUGINS_DIR}
                    OSX_INSTALL_RPATH "@loader_path/../Contents/Libraries;@loader_path/../Contents/MacOS"
)

# Set the name of the generated library
set_target_properties( VatesSimpleGuiQtWidgetsQt4 PROPERTIES OUTPUT_NAME MantidVatesSimpleGuiQtWidgetsQt4 )
# Add to the 'VatesSimpleGui' group in VS
set_property( TARGET VatesSimpleGuiQtWidgetsQt4 PROPERTY FOLDER MantidVatesSimpleGui )
