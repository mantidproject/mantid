name: mantid-developer

channels:
  - conda-forge

dependencies:
  - boost=1.77.* # Also pulls in boost-cpp. 1.78 clashes with icu version from Qt
  - ccache
  - cmake=3.19.*|>=3.21.0 # Avoid bug in 3.20.* with updating external projects
  - doxygen>=1.9.*
  - eigen=3.4.*
  - euphonic=0.6.*
  - graphviz>=2.47.0
  - gsl=2.7 # Keep gsl a specific version to reduce changes in our fitting
  - h5py
  - hdf5>=1.12,<1.13
  - ipykernel<6 # Added as hard dependency only to deal with an issue with ipykernel v6 and incompatibility with qtconsole/workbench, was previously a soft dependency that was allowed to update to v6 by qtconsole, at present it stops workbench from loading.
  - jemalloc>=5.2.1
  - jsoncpp>=1.9.4,<2
  - librdkafka>=1.6.0
  - muparser>=2.3.2
  - matplotlib=3.6.*
  - nexus=4.4.*
  - ninja>=1.10.2
  - numpy<=1.23
  - occt
  - pip>=21.0.1
  - poco=1.12.1|>=1.12.5 # 1.12.2 introduced an unguarded #define NOMINMAX which causes a compiler warning. It's resolved on their devel branch so should be fine after 1.12.4
  - psutil>=5.8.0
  - pycifrw==4.4.1 # Force to 4.4.1 as later versions cause issues with loading CIF files
  - pyqt>=5.15,<6
  - python-dateutil>=2.8.1
  - python=3.8.*
  - python.app
  - pyyaml>=5.4.1
  - qscintilla2
  - qt=5.15.8 # Avoid unexpected qt upgrades
  - qtconsole=5.4.1 # 5.4.2 crashes the jupyter console
  - qtpy>=1.9.0
  - requests>=2.25.1
  - scipy>=1.6.2
  - setuptools=47.0.0 # Pinned purposefully due to incompatibility with later versions
  - sphinx >= 4.5.*
  - sphinx_bootstrap_theme=>0.8.1
  - tbb-devel=2021.*
  - texlive-core>=20180414
  - toml>=0.10.2
  - versioningit>=2.1
  # Needed only for development
  - black  # may be out of sync with pre-commit
  - cppcheck==2.5
  - pygments==2.11.2 # Had to pin back to 2.11 due to cppcheck error which is only fixed in cppcheck>=2.8
  - pre-commit>=2.12.0
  - libcxx<16 # Had to pin back below 16 to prevent an issue with boost (https://github.com/boostorg/container_hash/issues/22).

  # Use conda version of clang to get matching CXXFLAGS.
  # Pinned to same version as conda forge: https://github.com/conda-forge/conda-forge-pinning-feedstock/blob/main/recipe/conda_build_config.yaml
  - clang_osx-64=14
  - clangxx_osx-64=14
  - llvm-openmp=14
